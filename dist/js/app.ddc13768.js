(function(e){function t(t){for(var a,i,r=t[0],n=t[1],l=t[2],d=0,b=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&b.push(s[i][0]),s[i]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);u&&u(t);while(b.length)b.shift()();return o.push.apply(o,l||[]),c()}function c(){for(var e,t=0;t<o.length;t++){for(var c=o[t],a=!0,r=1;r<c.length;r++){var n=c[r];0!==s[n]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=c[0]))}return e}var a={},s={app:0},o=[];function i(t){if(a[t])return a[t].exports;var c=a[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}i.m=e,i.c=a,i.d=function(e,t,c){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(c,a,function(t){return e[t]}.bind(null,a));return c},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],n=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=n;o.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"0c65":function(e,t,c){},"0da1":function(e,t,c){"use strict";c("2bbc")},"12c0":function(e,t,c){},"19fc":function(e,t,c){},2930:function(e,t,c){},"2bbc":function(e,t,c){},"36fd":function(e,t,c){"use strict";c("dd3c")},"3b5d":function(e,t,c){},"3ec8":function(e,t,c){"use strict";c("cf1f")},"4cc9":function(e,t,c){"use strict";c("d8e2")},5358:function(e,t,c){"use strict";c("2930")},"54ea":function(e,t,c){},"56d7":function(e,t,c){"use strict";c.r(t);var a=c("7a23"),s=c("6605");const o=Object(a["i"])("h2",null,"Interested? Reach out now!",-1),i=Object(a["j"])("Contact");function r(e,t,c,s,r,n){const l=Object(a["C"])("base-card"),u=Object(a["C"])("base-button"),d=Object(a["C"])("router-view"),b=Object(a["C"])("base-badge");return Object(a["u"])(),Object(a["h"])("div",null,[Object(a["i"])("section",null,[Object(a["k"])(l,null,{default:Object(a["K"])(()=>[Object(a["i"])("h2",null,Object(a["F"])(n.fullName),1),Object(a["i"])("h3",null,"$"+Object(a["F"])(n.rate)+"/hour",1)]),_:1})]),Object(a["i"])("section",null,[Object(a["k"])(l,null,{default:Object(a["K"])(()=>[Object(a["i"])("header",null,[o,Object(a["k"])(u,{link:"",to:n.contactLink},{default:Object(a["K"])(()=>[i]),_:1},8,["to"])]),Object(a["k"])(d)]),_:1})]),Object(a["i"])("section",null,[Object(a["k"])(l,null,{default:Object(a["K"])(()=>[(Object(a["u"])(!0),Object(a["h"])(a["a"],null,Object(a["A"])(n.areas,e=>(Object(a["u"])(),Object(a["f"])(b,{key:e,type:e,title:e},null,8,["type","title"]))),128)),Object(a["i"])("p",null,Object(a["F"])(n.description),1)]),_:1})])])}var n={props:["id"],data(){return{selectedCoach:null}},computed:{fullName(){return this.selectedCoach.firstName+" "+this.selectedCoach.lastName},areas(){return this.selectedCoach.areas},rate(){return this.selectedCoach.hourlyRate},description(){return this.selectedCoach.description},contactLink(){return"/coaches/"+this.id+"/contact"}},created(){this.selectedCoach=this.$store.getters["coaches/coaches"].find(e=>e.id===this.id)}},l=c("6b0d"),u=c.n(l);const d=u()(n,[["render",r]]);var b=d;const h={class:"controls"},j=Object(a["j"])("Refresh"),O=Object(a["j"])("Login to register as a coach"),m=Object(a["j"])("Register as Coach"),f={key:0},p={key:1},g={key:2};function v(e,t,c,s,o,i){const r=Object(a["C"])("base-dialog"),n=Object(a["C"])("coach-filter"),l=Object(a["C"])("base-button"),u=Object(a["C"])("base-spinner"),d=Object(a["C"])("coach-item"),b=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])("div",null,[Object(a["k"])(r,{show:!!o.error,title:"An Error occurred!",onClose:i.handleError},{default:Object(a["K"])(()=>[Object(a["i"])("p",null,Object(a["F"])(o.error),1)]),_:1},8,["show","onClose"]),Object(a["i"])("section",null,[Object(a["k"])(n,{onChangeFilter:i.setFilters},null,8,["onChangeFilter"])]),Object(a["i"])("section",null,[Object(a["k"])(b,null,{default:Object(a["K"])(()=>[Object(a["i"])("div",h,[Object(a["k"])(l,{mode:"outline",onClick:t[0]||(t[0]=e=>i.loadCoaches(!0))},{default:Object(a["K"])(()=>[j]),_:1}),i.isLoggedIn?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])(l,{key:0,link:"",to:"/auth?redirect=register"},{default:Object(a["K"])(()=>[O]),_:1})),i.isCoach||o.isLoading||!i.isLoggedIn?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])(l,{key:1,link:"",to:"/register"},{default:Object(a["K"])(()=>[m]),_:1}))]),o.isLoading?(Object(a["u"])(),Object(a["h"])("div",f,[Object(a["k"])(u)])):i.hasCoaches?(Object(a["u"])(),Object(a["h"])("ul",p,[(Object(a["u"])(!0),Object(a["h"])(a["a"],null,Object(a["A"])(i.filteredCoaches,e=>(Object(a["u"])(),Object(a["f"])(d,{key:e.id,id:e.id,"first-name":e.firstName,"last-name":e.lastName,rate:e.hourlyRate,areas:e.areas},null,8,["id","first-name","last-name","rate","areas"]))),128))])):(Object(a["u"])(),Object(a["h"])("h3",g,"No coaches found."))]),_:1})])])}const k={class:"actions"},y=Object(a["j"])("Contact"),C=Object(a["j"])("View Details");function I(e,t,c,s,o,i){const r=Object(a["C"])("base-badge"),n=Object(a["C"])("base-button");return Object(a["u"])(),Object(a["h"])("li",null,[Object(a["i"])("h3",null,Object(a["F"])(i.fullName),1),Object(a["i"])("h4",null,"$"+Object(a["F"])(c.rate)+"/hour",1),Object(a["i"])("div",null,[(Object(a["u"])(!0),Object(a["h"])(a["a"],null,Object(a["A"])(c.areas,e=>(Object(a["u"])(),Object(a["f"])(r,{key:e,type:e,title:e},null,8,["type","title"]))),128))]),Object(a["i"])("div",k,[Object(a["k"])(n,{mode:"outline",link:"",to:i.coachContactLink},{default:Object(a["K"])(()=>[y]),_:1},8,["to"]),Object(a["k"])(n,{link:"",to:i.coachDetailsLink},{default:Object(a["K"])(()=>[C]),_:1},8,["to"])])])}var w={props:["id","firstName","lastName","rate","areas"],computed:{fullName(){return this.firstName+" "+this.lastName},coachContactLink(){return"/coaches/"+this.id+"/contact"},coachDetailsLink(){return"/coaches/"+this.id}}};c("98aa");const _=u()(w,[["render",I],["__scopeId","data-v-4f64327c"]]);var L=_;const F=e=>(Object(a["x"])("data-v-5f5d50f2"),e=e(),Object(a["v"])(),e),q=F(()=>Object(a["i"])("h2",null,"Find Your Coach",-1)),V={class:"filter-option"},N=F(()=>Object(a["i"])("label",{for:"frontend"},"Frontend",-1)),S={class:"filter-option"},A=F(()=>Object(a["i"])("label",{for:"backend"},"Backend",-1)),$={class:"filter-option"},x=F(()=>Object(a["i"])("label",{for:"career"},"Career",-1));function K(e,t,c,s,o,i){const r=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["f"])(r,null,{default:Object(a["K"])(()=>[q,Object(a["i"])("span",V,[Object(a["i"])("input",{type:"checkbox",id:"frontend",checked:"",onChange:t[0]||(t[0]=(...e)=>i.setFilter&&i.setFilter(...e))},null,32),N]),Object(a["i"])("span",S,[Object(a["i"])("input",{type:"checkbox",id:"backend",checked:"",onChange:t[1]||(t[1]=(...e)=>i.setFilter&&i.setFilter(...e))},null,32),A]),Object(a["i"])("span",$,[Object(a["i"])("input",{type:"checkbox",id:"career",checked:"",onChange:t[2]||(t[2]=(...e)=>i.setFilter&&i.setFilter(...e))},null,32),x])]),_:1})}var R={emits:["change-filter"],data(){return{filters:{frontend:!0,backend:!0,career:!0}}},methods:{setFilter(e){const t=e.target.id,c=e.target.checked,a={...this.filters,[t]:c};this.filters=a,this.$emit("change-filter",a)}}};c("ffa3");const E=u()(R,[["render",K],["__scopeId","data-v-5f5d50f2"]]);var B=E,U={components:{CoachItem:L,CoachFilter:B},data(){return{isLoading:!1,error:null,activeFilters:{frontend:!0,backend:!0,career:!0}}},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated},isCoach(){return this.$store.getters["coaches/isCoach"]},filteredCoaches(){const e=this.$store.getters["coaches/coaches"];return e.filter(e=>!(!this.activeFilters.frontend||!e.areas.includes("frontend"))||(!(!this.activeFilters.backend||!e.areas.includes("backend"))||!(!this.activeFilters.career||!e.areas.includes("career"))))},hasCoaches(){return!this.isLoading&&this.$store.getters["coaches/hasCoaches"]}},created(){this.loadCoaches()},methods:{setFilters(e){this.activeFilters=e},async loadCoaches(e=!1){this.isLoading=!0;try{await this.$store.dispatch("coaches/loadCoaches",{forceRefresh:e})}catch(t){this.error=t.message||"Something went wrong!"}this.isLoading=!1},handleError(){this.error=null}}};c("5358");const P=u()(U,[["render",v],["__scopeId","data-v-1041087e"]]);var T=P;const M=Object(a["i"])("h2",null,"Register as a coach now!",-1);function D(e,t,c,s,o,i){const r=Object(a["C"])("coach-form"),n=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])("section",null,[Object(a["k"])(n,null,{default:Object(a["K"])(()=>[M,Object(a["k"])(r,{onSaveData:i.saveData},null,8,["onSaveData"])]),_:1})])}const H=e=>(Object(a["x"])("data-v-1d9571bb"),e=e(),Object(a["v"])(),e),J=H(()=>Object(a["i"])("label",{for:"firstname"},"Firstname",-1)),Q={key:0},G=H(()=>Object(a["i"])("label",{for:"lastname"},"Lastname",-1)),Y={key:0},z=H(()=>Object(a["i"])("label",{for:"description"},"Description",-1)),X={key:0},W=H(()=>Object(a["i"])("label",{for:"rate"},"Hourly Rate",-1)),Z={key:0},ee=H(()=>Object(a["i"])("h3",null,"Areas of Expertise",-1)),te=H(()=>Object(a["i"])("label",{for:"frontend"},"Frontend Development",-1)),ce=H(()=>Object(a["i"])("label",{for:"backend"},"Backend Development",-1)),ae=H(()=>Object(a["i"])("label",{for:"career"},"Career Advisory",-1)),se={key:0},oe={key:0},ie=Object(a["j"])("Register");function re(e,t,c,s,o,i){const r=Object(a["C"])("base-button");return Object(a["u"])(),Object(a["h"])("form",{onSubmit:t[14]||(t[14]=Object(a["M"])((...e)=>i.submitForm&&i.submitForm(...e),["prevent"]))},[Object(a["i"])("div",{class:Object(a["q"])(["form-control",{invalid:!o.firstName.isValid}])},[J,Object(a["L"])(Object(a["i"])("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=e=>o.firstName.val=e),onBlur:t[1]||(t[1]=e=>i.clearValidity("firstName"))},null,544),[[a["I"],o.firstName.val,void 0,{trim:!0}]]),o.firstName.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",Q,"Firstname must not be empty."))],2),Object(a["i"])("div",{class:Object(a["q"])(["form-control",{invalid:!o.lastName.isValid}])},[G,Object(a["L"])(Object(a["i"])("input",{type:"text",id:"lastname","onUpdate:modelValue":t[2]||(t[2]=e=>o.lastName.val=e),onBlur:t[3]||(t[3]=e=>i.clearValidity("lastName"))},null,544),[[a["I"],o.lastName.val,void 0,{trim:!0}]]),o.lastName.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",Y,"Lastname must not be empty."))],2),Object(a["i"])("div",{class:Object(a["q"])(["form-control",{invalid:!o.description.isValid}])},[z,Object(a["L"])(Object(a["i"])("textarea",{id:"description",rows:"5","onUpdate:modelValue":t[4]||(t[4]=e=>o.description.val=e),onBlur:t[5]||(t[5]=e=>i.clearValidity("description"))},null,544),[[a["I"],o.description.val,void 0,{trim:!0}]]),o.description.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",X,"Description must not be empty."))],2),Object(a["i"])("div",{class:Object(a["q"])(["form-control",{invalid:!o.rate.isValid}])},[W,Object(a["L"])(Object(a["i"])("input",{type:"number",id:"rate","onUpdate:modelValue":t[6]||(t[6]=e=>o.rate.val=e),onBlur:t[7]||(t[7]=e=>i.clearValidity("rate"))},null,544),[[a["I"],o.rate.val,void 0,{number:!0}]]),o.rate.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",Z,"Rate must be greater than 0."))],2),Object(a["i"])("div",{class:Object(a["q"])(["form-control",{invalid:!o.areas.isValid}])},[ee,Object(a["i"])("div",null,[Object(a["L"])(Object(a["i"])("input",{type:"checkbox",id:"frontend",value:"frontend","onUpdate:modelValue":t[8]||(t[8]=e=>o.areas.val=e),onBlur:t[9]||(t[9]=e=>i.clearValidity("areas"))},null,544),[[a["H"],o.areas.val]]),te]),Object(a["i"])("div",null,[Object(a["L"])(Object(a["i"])("input",{type:"checkbox",id:"backend",value:"backend","onUpdate:modelValue":t[10]||(t[10]=e=>o.areas.val=e),onBlur:t[11]||(t[11]=e=>i.clearValidity("areas"))},null,544),[[a["H"],o.areas.val]]),ce]),Object(a["i"])("div",null,[Object(a["L"])(Object(a["i"])("input",{type:"checkbox",id:"career",value:"career","onUpdate:modelValue":t[12]||(t[12]=e=>o.areas.val=e),onBlur:t[13]||(t[13]=e=>i.clearValidity("areas"))},null,544),[[a["H"],o.areas.val]]),ae]),o.areas.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",se,"At least one expertise must be selected."))],2),o.formIsValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",oe,"Please fix the above errors and submit again.")),Object(a["k"])(r,null,{default:Object(a["K"])(()=>[ie]),_:1})],32)}var ne={emits:["save-data"],data(){return{firstName:{val:"",isValid:!0},lastName:{val:"",isValid:!0},description:{val:"",isValid:!0},rate:{val:null,isValid:!0},areas:{val:[],isValid:!0},formIsValid:!0}},methods:{clearValidity(e){this[e].isValid=!0},validateForm(){this.formIsValid=!0,""===this.firstName.val&&(this.firstName.isValid=!1,this.formIsValid=!1),""===this.lastName.val&&(this.lastName.isValid=!1,this.formIsValid=!1),""===this.description.val&&(this.description.isValid=!1,this.formIsValid=!1),(!this.rate.val||this.rate.val<0)&&(this.rate.isValid=!1,this.formIsValid=!1),0===this.areas.val.length&&(this.areas.isValid=!1,this.formIsValid=!1)},submitForm(){if(this.validateForm(),!this.formIsValid)return;const e={first:this.firstName.val,last:this.lastName.val,desc:this.description.val,rate:this.rate.val,areas:this.areas.val};this.$emit("save-data",e)}}};c("6280");const le=u()(ne,[["render",re],["__scopeId","data-v-1d9571bb"]]);var ue=le,de={components:{CoachForm:ue},methods:{saveData(e){this.$store.dispatch("coaches/registerCoach",e),this.$router.replace("/coaches")}}};const be=u()(de,[["render",D]]);var he=be;const je=e=>(Object(a["x"])("data-v-2831bb9e"),e=e(),Object(a["v"])(),e),Oe={class:"form-control"},me=je(()=>Object(a["i"])("label",{for:"email"},"Your E-Mail",-1)),fe={class:"form-control"},pe=je(()=>Object(a["i"])("label",{for:"message"},"Message",-1)),ge={key:0,class:"errors"},ve={class:"actions"},ke=Object(a["j"])("Send Message");function ye(e,t,c,s,o,i){const r=Object(a["C"])("base-button");return Object(a["u"])(),Object(a["h"])("form",{onSubmit:t[2]||(t[2]=Object(a["M"])((...e)=>i.submitForm&&i.submitForm(...e),["prevent"]))},[Object(a["i"])("div",Oe,[me,Object(a["L"])(Object(a["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e)},null,512),[[a["I"],o.email,void 0,{trim:!0}]])]),Object(a["i"])("div",fe,[pe,Object(a["L"])(Object(a["i"])("textarea",{rows:"5",id:"message","onUpdate:modelValue":t[1]||(t[1]=e=>o.message=e)},null,512),[[a["I"],o.message,void 0,{trim:!0}]])]),o.formIsValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",ge," Please enter a valid email and non-empty message. ")),Object(a["i"])("div",ve,[Object(a["k"])(r,null,{default:Object(a["K"])(()=>[ke]),_:1})])],32)}var Ce={data(){return{email:"",message:"",formIsValid:!0}},methods:{submitForm(){this.formIsValid=!0,""!==this.email&&this.email.includes("@")&&""!==this.message?(this.$store.dispatch("requests/contactCoach",{email:this.email,message:this.message,coachId:this.$route.params.id}),this.$router.replace("/coaches")):this.formIsValid=!1}}};c("b4d5");const Ie=u()(Ce,[["render",ye],["__scopeId","data-v-2831bb9e"]]);var we=Ie;const _e=e=>(Object(a["x"])("data-v-3e721212"),e=e(),Object(a["v"])(),e),Le=_e(()=>Object(a["i"])("header",null,[Object(a["i"])("h2",null,"Requests Received")],-1)),Fe={key:1},qe={key:2};function Ve(e,t,c,s,o,i){const r=Object(a["C"])("base-dialog"),n=Object(a["C"])("base-spinner"),l=Object(a["C"])("request-item"),u=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])("div",null,[Object(a["k"])(r,{show:!!o.error,title:"An Error occurred!",onClose:i.handleError},{default:Object(a["K"])(()=>[Object(a["i"])("p",null,Object(a["F"])(o.error),1)]),_:1},8,["show","onClose"]),Object(a["i"])("section",null,[Object(a["k"])(u,null,{default:Object(a["K"])(()=>[Le,o.isLoading?(Object(a["u"])(),Object(a["f"])(n,{key:0})):i.hasRequests&&!o.isLoading?(Object(a["u"])(),Object(a["h"])("ul",Fe,[(Object(a["u"])(!0),Object(a["h"])(a["a"],null,Object(a["A"])(i.receivedRequests,e=>(Object(a["u"])(),Object(a["f"])(l,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"]))),128))])):(Object(a["u"])(),Object(a["h"])("h3",qe,"You haven't received any requests yet!"))]),_:1})])])}const Ne=["href"];function Se(e,t,c,s,o,i){return Object(a["u"])(),Object(a["h"])("li",null,[Object(a["i"])("div",null,[Object(a["i"])("a",{href:i.emailLink},Object(a["F"])(c.email),9,Ne)]),Object(a["i"])("p",null,Object(a["F"])(c.message),1)])}var Ae={props:["email","message"],computed:{emailLink(){return"mailto:"+this.email}}};c("b52b");const $e=u()(Ae,[["render",Se],["__scopeId","data-v-60554d41"]]);var xe=$e,Ke={components:{RequestItem:xe},data(){return{isLoading:!1,error:null}},computed:{receivedRequests(){return this.$store.getters["requests/requests"]},hasRequests(){return this.$store.getters["requests/hasRequests"]}},created(){this.loadRequests()},methods:{async loadRequests(){this.isLoading=!0;try{await this.$store.dispatch("requests/fetchRequests")}catch(e){this.error=e.message||"Something Failed!"}this.isLoading=!1},handleError(){this.error=null}}};c("f681");const Re=u()(Ke,[["render",Ve],["__scopeId","data-v-3e721212"]]);var Ee=Re;const Be=Object(a["i"])("h2",null,"Page not found",-1),Ue=Object(a["j"])(" this page could not be found - check out all our "),Pe=Object(a["j"])("Coaches");function Te(e,t){const c=Object(a["C"])("router-link"),s=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])("section",null,[Object(a["k"])(s,null,{default:Object(a["K"])(()=>[Be,Object(a["i"])("p",null,[Ue,Object(a["k"])(c,{to:"/coaches"},{default:Object(a["K"])(()=>[Pe]),_:1})])]),_:1})])}const Me={},De=u()(Me,[["render",Te]]);var He=De;const Je=e=>(Object(a["x"])("data-v-547863c4"),e=e(),Object(a["v"])(),e),Qe={class:"form-control"},Ge=Je(()=>Object(a["i"])("label",{for:"email"},"E-Mail",-1)),Ye={class:"form-control"},ze=Je(()=>Object(a["i"])("label",{for:"password"},"Password",-1)),Xe={key:0};function We(e,t,c,s,o,i){const r=Object(a["C"])("base-dialog"),n=Object(a["C"])("base-spinner"),l=Object(a["C"])("base-button"),u=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])("div",null,[Object(a["k"])(r,{show:!!o.error,title:"An error occurred",onClose:i.handleError},{default:Object(a["K"])(()=>[Object(a["i"])("p",null,Object(a["F"])(o.error),1)]),_:1},8,["show","onClose"]),Object(a["k"])(r,{show:o.isLoading,title:"Authenticating...",fixed:""},{default:Object(a["K"])(()=>[Object(a["k"])(n)]),_:1},8,["show"]),Object(a["k"])(u,null,{default:Object(a["K"])(()=>[Object(a["i"])("form",{onSubmit:t[2]||(t[2]=Object(a["M"])((...e)=>i.submitForm&&i.submitForm(...e),["prevent"]))},[Object(a["i"])("div",Qe,[Ge,Object(a["L"])(Object(a["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e)},null,512),[[a["I"],o.email,void 0,{trim:!0}]])]),Object(a["i"])("div",Ye,[ze,Object(a["L"])(Object(a["i"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e)},null,512),[[a["I"],o.password,void 0,{trim:!0}]])]),o.formIsValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",Xe," Please enter a valid email and password (must be at least 6 characters long). ")),Object(a["k"])(l,null,{default:Object(a["K"])(()=>[Object(a["j"])(Object(a["F"])(i.submitButtonCaption),1)]),_:1}),Object(a["k"])(l,{type:"button",mode:"flat",onClick:i.switchAuthMode},{default:Object(a["K"])(()=>[Object(a["j"])(Object(a["F"])(i.switchModeButtonCaption),1)]),_:1},8,["onClick"])],32)]),_:1})])}var Ze={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const e={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",e):await this.$store.dispatch("signup",e);const t="/"+(this.$route.query.redirect||"coaches");this.$router.replace(t)}catch(t){this.error=t.message||"Failed to authenticate, try later."}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}};c("6595");const et=u()(Ze,[["render",We],["__scopeId","data-v-547863c4"]]);var tt=et,ct=c("5502"),at=(c("14d9"),{registerCoach(e,t){e.coaches.push(t)},setCoaches(e,t){e.coaches=t},setFetchTimestamp(e){e.lastFetch=(new Date).getTime()}}),st=(c("d9e2"),{async registerCoach(e,t){const c=e.rootGetters.userId,a={firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},s=e.rootGetters.token,o=await fetch(`https://find-a-coach-7e776-default-rtdb.firebaseio.com/coaches/${c}.json?auth=`+s,{method:"PUT",body:JSON.stringify(a)});o.ok,e.commit("registerCoach",{...a,id:c})},async loadCoaches(e,t){if(!t.forceRefresh&&!e.getters.shouldUpdate)return;const c=await fetch("https://find-a-coach-7e776-default-rtdb.firebaseio.com/coaches.json"),a=await c.json();if(!c.ok){const e=new Error(a.message||"Failed to fetch!");throw e}const s=[];for(const o in a){const e={id:o,firstName:a[o].firstName,lastName:a[o].lastName,description:a[o].description,hourlyRate:a[o].hourlyRate,areas:a[o].areas};s.push(e)}e.commit("setCoaches",s),e.commit("setFetchTimestamp")}}),ot={coaches(e){return e.coaches},hasCoaches(e){return e.coaches&&e.coaches.length>0},isCoach(e,t,c,a){const s=t.coaches,o=a.userId;return s.some(e=>e.id===o)},shouldUpdate(e){const t=e.lastFetch;if(!t)return!0;const c=(new Date).getTime();return(c-t)/1e3>60}},it={namespaced:!0,state(){return{lastFetch:null,coaches:[]}},mutations:at,actions:st,getters:ot},rt={addRequest(e,t){e.requests.push(t)},setRequests(e,t){e.requests=t}},nt={async contactCoach(e,t){const c={userEmail:t.email,message:t.message},a=await fetch(`https://find-a-coach-7e776-default-rtdb.firebaseio.com/requests/${t.coachId}.json`,{method:"POST",body:JSON.stringify(c)}),s=await a.json();if(!a.ok){const e=new Error(s.message||"Failed to send request.");throw e}c.id=s.name,c.coachId=t.coachId,e.commit("addRequest",c)},async fetchRequests(e){const t=e.rootGetters.userId,c=e.rootGetters.token,a=await fetch(`https://find-a-coach-7e776-default-rtdb.firebaseio.com/requests/${t}.json?auth=`+c),s=await a.json();if(!a.ok){const e=new Error(s.message||"Failed to fetch requests.");throw e}const o=[];for(const i in s){const e={id:i,coachId:t,userEmail:s[i].userEmail,message:s[i].message};o.push(e)}e.commit("setRequests",o)}},lt={requests(e,t,c,a){const s=a.userId;return e.requests.filter(e=>e.coachId===s)},hasRequests(e,t){return t.requests&&t.requests.length>0}},ut={namespaced:!0,state(){return{requests:[]}},mutations:rt,actions:nt,getters:lt},dt={setUser(e,t){e.token=t.token,e.userId=t.userId,e.didAutoLogout=!1},setAutoLogout(e){e.didAutoLogout=!0}};let bt;var ht={async login(e,t){return e.dispatch("auth",{...t,mode:"login"})},async signup(e,t){return e.dispatch("auth",{...t,mode:"signup"})},async auth(e,t){const c=t.mode;let a="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAXSMGHtl-Q_J7s2eQJt8m9zPQroYQHpS0";"signup"===c&&(a="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAXSMGHtl-Q_J7s2eQJt8m9zPQroYQHpS0");const s=await fetch(a,{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),o=await s.json();if(!s.ok){const e=new Error(o.message||"Failed to authenticate. Check your login data.");throw e}const i=1e3*+o.expiresIn,r=(new Date).getTime()+i;localStorage.setItem("token",o.idToken),localStorage.setItem("userId",o.localId),localStorage.setItem("tokenExpiration",r),bt=setTimeout((function(){e.dispatch("autoLogout")}),i),e.commit("setUser",{token:o.idToken,userId:o.localId})},tryLogin(e){const t=localStorage.getItem("token"),c=localStorage.getItem("userId"),a=localStorage.getItem("tokenExpiration"),s=+a-(new Date).getTime();s<0||(bt=setTimeout((function(){e.dispatch("autoLogout")}),s),t&&c&&e.commit("setUser",{token:t,userId:c}))},logout(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(bt),e.commit("setUser",{token:null,userId:null})},autoLogout(e){e.dispatch("logout"),e.commit("setAutoLogout")}},jt={userId(e){return e.userId},token(e){return e.token},isAuthenticated(e){return!!e.token},didAutoLogout(e){return e.didAutoLogout}},Ot={state(){return{userId:null,token:null,didAutoLogout:!1}},mutations:dt,actions:ht,getters:jt};const mt=Object(ct["a"])({modules:{coaches:it,requests:ut,auth:Ot}});var ft=mt;const pt=Object(s["a"])({history:Object(s["b"])(),routes:[{path:"/",redirect:"/coaches"},{path:"/coaches",component:T},{path:"/coaches/:id",component:b,props:!0,children:[{path:"contact",component:we}]},{path:"/register",component:he,meta:{requiresAuth:!0}},{path:"/requests",component:Ee,meta:{requiresAuth:!0}},{path:"/auth",component:tt,meta:{requiresUnAuth:!0}},{path:"/:notFound(.*)",component:He}]});pt.beforeEach((function(e,t,c){e.meta.requiresAuth&&!ft.getters.isAuthenticated?c("/auth"):e.meta.requiresUnAuth&&ft.getters.isAuthenticated?c("/coaches"):c()}));var gt=pt;function vt(e,t,c,s,o,i){const r=Object(a["C"])("the-header"),n=Object(a["C"])("router-view");return Object(a["u"])(),Object(a["h"])(a["a"],null,[Object(a["k"])(r),Object(a["k"])(n,null,{default:Object(a["K"])(e=>[Object(a["k"])(a["c"],{name:"route",mode:"out-in"},{default:Object(a["K"])(()=>[(Object(a["u"])(),Object(a["f"])(Object(a["D"])(e.Component)))]),_:2},1024)]),_:1})],64)}const kt=Object(a["j"])("Find a Coach"),yt=Object(a["j"])("All Coaches"),Ct={key:0},It=Object(a["j"])("Requests"),wt={key:1},_t=Object(a["j"])("Login"),Lt={key:2},Ft=Object(a["j"])("Logout");function qt(e,t,c,s,o,i){const r=Object(a["C"])("router-link"),n=Object(a["C"])("base-button");return Object(a["u"])(),Object(a["h"])("header",null,[Object(a["i"])("nav",null,[Object(a["i"])("h1",null,[Object(a["k"])(r,{to:"/"},{default:Object(a["K"])(()=>[kt]),_:1})]),Object(a["i"])("ul",null,[Object(a["i"])("li",null,[Object(a["k"])(r,{to:"/coaches"},{default:Object(a["K"])(()=>[yt]),_:1})]),i.isLoggedIn?(Object(a["u"])(),Object(a["h"])("li",Ct,[Object(a["k"])(r,{to:"/requests"},{default:Object(a["K"])(()=>[It]),_:1})])):(Object(a["u"])(),Object(a["h"])("li",wt,[Object(a["k"])(r,{to:"/auth"},{default:Object(a["K"])(()=>[_t]),_:1})])),i.isLoggedIn?(Object(a["u"])(),Object(a["h"])("li",Lt,[Object(a["k"])(n,{onClick:i.logout},{default:Object(a["K"])(()=>[Ft]),_:1},8,["onClick"])])):Object(a["g"])("",!0)])])])}var Vt={computed:{isLoggedIn(){return this.$store.getters.isAuthenticated}},methods:{logout(){this.$store.dispatch("logout"),this.$router.replace("/coaches")}}};c("0da1");const Nt=u()(Vt,[["render",qt],["__scopeId","data-v-cce31d86"]]);var St=Nt,At={components:{TheHeader:St},computed:{didAutoLogout(){return this.$store.getters.didAutoLogout}},created(){this.$store.dispatch("tryLogin")},watch:{didAutoLogout(e,t){e&&e!==t&&this.$router.replace("/coaches")}}};c("fbc5");const $t=u()(At,[["render",vt]]);var xt=$t;const Kt={class:"card"};function Rt(e,t){return Object(a["u"])(),Object(a["h"])("div",Kt,[Object(a["B"])(e.$slots,"default",{},void 0,!0)])}c("4cc9");const Et={},Bt=u()(Et,[["render",Rt],["__scopeId","data-v-1f9750d9"]]);var Ut=Bt;function Pt(e,t,c,s,o,i){const r=Object(a["C"])("router-link");return c.link?(Object(a["u"])(),Object(a["f"])(r,{key:1,to:c.to,class:Object(a["q"])(c.mode)},{default:Object(a["K"])(()=>[Object(a["B"])(e.$slots,"default",{},void 0,!0)]),_:3},8,["to","class"])):(Object(a["u"])(),Object(a["h"])("button",{key:0,class:Object(a["q"])(c.mode)},[Object(a["B"])(e.$slots,"default",{},void 0,!0)],2))}var Tt={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};c("cf4d");const Mt=u()(Tt,[["render",Pt],["__scopeId","data-v-2b151212"]]);var Dt=Mt;function Ht(e,t,c,s,o,i){return Object(a["u"])(),Object(a["h"])("span",{class:Object(a["q"])(["badge",c.type])},Object(a["F"])(i.text),3)}var Jt={props:["type","title"],computed:{text(){return this.title.toUpperCase()}}};c("b997");const Qt=u()(Jt,[["render",Ht],["__scopeId","data-v-5de3df1c"]]);var Gt=Qt;const Yt=e=>(Object(a["x"])("data-v-5147169a"),e=e(),Object(a["v"])(),e),zt={class:"spinner"},Xt=Yt(()=>Object(a["i"])("div",{class:"lds-roller"},[Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div")],-1)),Wt=[Xt];function Zt(e,t){return Object(a["u"])(),Object(a["h"])("div",zt,Wt)}c("3ec8");const ec={},tc=u()(ec,[["render",Zt],["__scopeId","data-v-5147169a"]]);var cc=tc;const ac={key:0,open:""},sc={key:0},oc=Object(a["j"])("Close");function ic(e,t,c,s,o,i){const r=Object(a["C"])("base-button");return Object(a["u"])(),Object(a["f"])(a["b"],{to:"body"},[c.show?(Object(a["u"])(),Object(a["h"])("div",{key:0,onClick:t[0]||(t[0]=(...e)=>i.tryClose&&i.tryClose(...e)),class:"backdrop"})):Object(a["g"])("",!0),Object(a["k"])(a["c"],{name:"dialog"},{default:Object(a["K"])(()=>[c.show?(Object(a["u"])(),Object(a["h"])("dialog",ac,[Object(a["i"])("header",null,[Object(a["B"])(e.$slots,"header",{},()=>[Object(a["i"])("h2",null,Object(a["F"])(c.title),1)],!0)]),Object(a["i"])("section",null,[Object(a["B"])(e.$slots,"default",{},void 0,!0)]),c.fixed?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("menu",sc,[Object(a["B"])(e.$slots,"actions",{},()=>[Object(a["k"])(r,{onClick:i.tryClose},{default:Object(a["K"])(()=>[oc]),_:1},8,["onClick"])],!0)]))])):Object(a["g"])("",!0)]),_:3})])}var rc={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}};c("36fd");const nc=u()(rc,[["render",ic],["__scopeId","data-v-158ba6c8"]]);var lc=nc;const uc=Object(a["e"])(xt);uc.use(gt),uc.use(ft),uc.component("base-card",Ut),uc.component("base-button",Dt),uc.component("base-badge",Gt),uc.component("base-spinner",cc),uc.component("base-dialog",lc),uc.mount("#app")},"577f":function(e,t,c){},6280:function(e,t,c){"use strict";c("6904")},6595:function(e,t,c){"use strict";c("19fc")},6904:function(e,t,c){},"6c64":function(e,t,c){},"98aa":function(e,t,c){"use strict";c("577f")},"9c3e":function(e,t,c){},b4d5:function(e,t,c){"use strict";c("6c64")},b52b:function(e,t,c){"use strict";c("0c65")},b997:function(e,t,c){"use strict";c("9c3e")},cf1f:function(e,t,c){},cf4d:function(e,t,c){"use strict";c("3b5d")},d8e2:function(e,t,c){},dd3c:function(e,t,c){},e268:function(e,t,c){},f681:function(e,t,c){"use strict";c("e268")},fbc5:function(e,t,c){"use strict";c("54ea")},ffa3:function(e,t,c){"use strict";c("12c0")}});
//# sourceMappingURL=app.ddc13768.js.map